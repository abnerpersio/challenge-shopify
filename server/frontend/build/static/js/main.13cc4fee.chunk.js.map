{"version":3,"sources":["AuthProvider.js","components/Header.js","components/Login.js","components/Product.js","components/LikedList.js","components/ProductList.js","components/Register.js","App.js","index.js"],"names":["authUser","a","username","password","fetch","headers","response","status","json","userObj","alert","authService","isAuthenticated","user","localStorage","getItem","signin","setItem","JSON","stringify","signout","removeItem","authContext","createContext","useAuth","useContext","ProvideAuth","children","auth","useState","setUser","useProvideAuth","Provider","value","Header","history","useHistory","handleSignout","push","Navbar","bg","variant","Container","Brand","to","Nav","className","style","color","margin","textDecoration","cursor","onClick","Login","usernameInputRef","useRef","passwordInputRef","handleFormSubmit","current","Form","onSubmit","e","preventDefault","Group","controlId","Label","Control","ref","type","id","required","placeholder","Button","Product","props","Card","Img","maxHeight","minHeight","src","images","Body","Title","title","fontSize","liked","unliker","liker","LikedList","productsList","setProductsList","likedList","setLikeList","getProducts","credentials","parse","responseLiked","products","likeProduct","method","unlikeProduct","useEffect","isLiked","find","item","product_id","String","Row","map","product","Col","lg","ProductList","emailInputRef","register","newUser","stringifiedUser","Accept","body","registered","error","message","email","App","exact","path","minWidth","Register","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.13cc4fee.chunk.js","sourcesContent":["import React, { useContext, createContext, useState } from 'react';\r\n\r\nconst authUser = async ({ username, password }) => {\r\n  const response = await fetch('../../login', {\r\n    headers: {\r\n      username,\r\n      password,\r\n    },\r\n  });\r\n\r\n  if (response.status === 200) {\r\n    const userObj = await response.json();\r\n    return userObj;\r\n  } else {\r\n    alert('os dados de login est√£o incorretos!');\r\n    return false;\r\n  }\r\n};\r\n\r\nconst authService = {\r\n  isAuthenticated() {\r\n    const user = localStorage.getItem('user');\r\n    return user ? user : false;\r\n  },\r\n  async signin({ username, password }) {\r\n    const user = await authUser({ username, password });\r\n    if (user) {\r\n      localStorage.setItem('user', JSON.stringify(user));\r\n      return this.isAuthenticated();\r\n    } else return false;\r\n  },\r\n  async signout() {\r\n    localStorage.removeItem('user');\r\n  },\r\n};\r\n\r\nconst authContext = createContext();\r\n\r\nfunction useAuth() {\r\n  return useContext(authContext);\r\n}\r\n\r\nfunction useProvideAuth() {\r\n  const [user, setUser] = useState(authService.isAuthenticated() || null);\r\n\r\n  const signin = async ({ username, password }) => {\r\n    const authUser = await authService.signin({ username, password });\r\n    if (authService.isAuthenticated()) setUser(authUser);\r\n    else setUser(null);\r\n    return authService.isAuthenticated();\r\n  };\r\n\r\n  const signout = async () => {\r\n    await authService.signout();\r\n  };\r\n\r\n  return {\r\n    user,\r\n    signin,\r\n    signout,\r\n  };\r\n}\r\n\r\nfunction ProvideAuth({ children }) {\r\n  const auth = useProvideAuth();\r\n  return <authContext.Provider value={auth}>{children}</authContext.Provider>;\r\n}\r\n\r\nexport { ProvideAuth, useAuth };\r\n","import { Navbar, Container, Nav } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { useAuth } from '../AuthProvider';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nfunction Header() {\r\n  const { signout } = useAuth();\r\n  let history = useHistory();\r\n\r\n  const handleSignout = async () => {\r\n    await signout();\r\n    history.push('/web/login');\r\n  };\r\n\r\n  return (\r\n    <Navbar bg=\"dark\" variant=\"dark\">\r\n      <Container>\r\n        <Navbar.Brand>\r\n          <Link to=\"/web/\">Desafio Shopify</Link>\r\n        </Navbar.Brand>\r\n        <Nav className=\"me-auto\">\r\n          <Link\r\n            style={{\r\n              color: 'white',\r\n              margin: '0px 10px',\r\n              textDecoration: 'none',\r\n            }}\r\n            to=\"/web/\"\r\n          >\r\n            Produtos\r\n          </Link>\r\n          <Link\r\n            style={{\r\n              color: 'white',\r\n              margin: '0px 10px',\r\n              textDecoration: 'none',\r\n            }}\r\n            to=\"/web/lista\"\r\n          >\r\n            Minha Lista\r\n          </Link>\r\n          <span\r\n            style={{ color: 'white', margin: '0px 10px', cursor: 'pointer' }}\r\n            onClick={() => handleSignout()}\r\n          >\r\n            Sair\r\n          </span>\r\n        </Nav>\r\n      </Container>\r\n    </Navbar>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import { useRef } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { useAuth } from '../AuthProvider';\r\nimport { useHistory, Link } from 'react-router-dom';\r\n\r\nfunction Login() {\r\n  const { signin } = useAuth();\r\n  let history = useHistory();\r\n\r\n  const usernameInputRef = useRef(null);\r\n  const passwordInputRef = useRef(null);\r\n\r\n  const handleFormSubmit = async () => {\r\n    const loggedIn = await signin({\r\n      username: usernameInputRef.current.value,\r\n      password: passwordInputRef.current.value,\r\n    });\r\n\r\n    if (loggedIn) {\r\n      history.push('/web/');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form\r\n      onSubmit={(e) => {\r\n        e.preventDefault();\r\n        handleFormSubmit();\r\n      }}\r\n    >\r\n      <h3 className=\"text-center\">Fa√ßa seu login</h3>\r\n      <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n        <Form.Label>Nome de Usu√°rio</Form.Label>\r\n        <Form.Control\r\n          ref={usernameInputRef}\r\n          type=\"text\"\r\n          id=\"input-login-username\"\r\n          required\r\n          placeholder=\"username\"\r\n        />\r\n      </Form.Group>\r\n\r\n      <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n        <Form.Label>Senha</Form.Label>\r\n        <Form.Control\r\n          ref={passwordInputRef}\r\n          type=\"password\"\r\n          id=\"input-login-password\"\r\n          required\r\n          placeholder=\"senha\"\r\n        />\r\n      </Form.Group>\r\n\r\n      <Link to=\"/web/register\" className=\"d-block\">\r\n        Ainda n√£o possui uma conta?\r\n      </Link>\r\n      <Button variant=\"primary\" type=\"submit\">\r\n        Fazer Login\r\n      </Button>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import { Card } from 'react-bootstrap';\r\nimport { BsHeart, BsHeartFill } from 'react-icons/bs';\r\n\r\nexport default function Product(props) {\r\n  return (\r\n    <Card className=\"m-2\">\r\n      <Card.Img\r\n        variant=\"top\"\r\n        style={{ maxHeight: '300px', minHeight: '300px' }}\r\n        src={props.images[0].src}\r\n      />\r\n      <Card.Body>\r\n        <Card.Title>{props.title}</Card.Title>\r\n        <span\r\n          className=\"like-button\"\r\n          style={{ cursor: 'pointer', fontSize: '20px' }}\r\n        >\r\n          {props.liked ? (\r\n            <BsHeartFill\r\n              onClick={async () => {\r\n                await props.unliker(props.id);\r\n              }}\r\n            />\r\n          ) : (\r\n            <BsHeart\r\n              onClick={async () => {\r\n                await props.liker(props.id);\r\n              }}\r\n            />\r\n          )}\r\n        </span>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\n\r\nimport Product from './Product';\r\n\r\nimport { useAuth } from '../AuthProvider';\r\n\r\nexport default function LikedList() {\r\n  const { user } = useAuth();\r\n  const [productsList, setProductsList] = useState([]);\r\n  const [likedList, setLikeList] = useState([]);\r\n\r\n  const getProducts = async () => {\r\n    const credentials = {\r\n      username: JSON.parse(user).username,\r\n      password: JSON.parse(user).password,\r\n    };\r\n\r\n    const response = await fetch('../../products', {\r\n      headers: credentials,\r\n    });\r\n\r\n    const responseLiked = await fetch('../../likes', {\r\n      headers: credentials,\r\n    });\r\n\r\n    const products = await response.json();\r\n    const liked = await responseLiked.json();\r\n    setProductsList(products);\r\n    setLikeList(liked);\r\n  };\r\n\r\n  const likeProduct = async (id) => {\r\n    const credentials = {\r\n      username: JSON.parse(user).username,\r\n      password: JSON.parse(user).password,\r\n    };\r\n\r\n    const response = await fetch(`../../likes/${id}`, {\r\n      method: 'POST',\r\n      headers: credentials,\r\n    });\r\n\r\n    if (response.status === 200) {\r\n      getProducts();\r\n    } else alert('algo errado ocorreu :(');\r\n  };\r\n\r\n  const unlikeProduct = async (id) => {\r\n    const credentials = {\r\n      username: JSON.parse(user).username,\r\n      password: JSON.parse(user).password,\r\n    };\r\n\r\n    const response = await fetch(`../../likes/${id}`, {\r\n      method: 'DELETE',\r\n      headers: credentials,\r\n    });\r\n\r\n    if (response.status === 204) {\r\n      getProducts();\r\n    } else alert('algo errado ocorreu :(');\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      getProducts();\r\n    }\r\n  }, [user]);\r\n\r\n  const isLiked = (id) =>\r\n    likedList.find((item) => item.product_id === String(id));\r\n\r\n  const renderLikedList = () => {\r\n    return productsList?.map((product) => {\r\n      return isLiked(product.id) ? (\r\n        <Col lg={4}>\r\n          <Product\r\n            title={product.title}\r\n            id={product.id}\r\n            key={product.id}\r\n            images={product.images}\r\n            liked={isLiked(product.id)}\r\n            liker={likeProduct}\r\n            unliker={unlikeProduct}\r\n          />\r\n        </Col>\r\n      ) : (\r\n        false\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container className=\"mt-5\">\r\n      <h4>Lista de produtos curtidos</h4>\r\n      <Row>{renderLikedList()}</Row>\r\n    </Container>\r\n  );\r\n}\r\n","import { useEffect, useState } from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\n\r\nimport Product from './Product';\r\n\r\nimport { useAuth } from '../AuthProvider';\r\n\r\nexport default function ProductList() {\r\n  const { user } = useAuth();\r\n  const [productsList, setProductsList] = useState([]);\r\n  const [likedList, setLikeList] = useState([]);\r\n\r\n  const getProducts = async () => {\r\n    const credentials = {\r\n      username: JSON.parse(user).username,\r\n      password: JSON.parse(user).password,\r\n    };\r\n\r\n    const response = await fetch('../../products', {\r\n      headers: credentials,\r\n    });\r\n\r\n    const responseLiked = await fetch('../../likes', {\r\n      headers: credentials,\r\n    });\r\n\r\n    const products = await response.json();\r\n    const liked = await responseLiked.json();\r\n    setProductsList(products);\r\n    setLikeList(liked);\r\n  };\r\n\r\n  const likeProduct = async (id) => {\r\n    const credentials = {\r\n      username: JSON.parse(user).username,\r\n      password: JSON.parse(user).password,\r\n    };\r\n\r\n    const response = await fetch(`../../likes/${id}`, {\r\n      method: 'POST',\r\n      headers: credentials,\r\n    });\r\n\r\n    if (response.status === 200) {\r\n      getProducts();\r\n    } else alert('algo errado ocorreu :(');\r\n  };\r\n\r\n  const unlikeProduct = async (id) => {\r\n    const credentials = {\r\n      username: JSON.parse(user).username,\r\n      password: JSON.parse(user).password,\r\n    };\r\n\r\n    const response = await fetch(`../../likes/${id}`, {\r\n      method: 'DELETE',\r\n      headers: credentials,\r\n    });\r\n\r\n    if (response.status === 204) {\r\n      getProducts();\r\n    } else alert('algo errado ocorreu :(');\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      getProducts();\r\n    }\r\n  }, [user]);\r\n\r\n  const isLiked = (id) =>\r\n    likedList.find((item) => item.product_id === String(id));\r\n\r\n  const renderProductList = () => {\r\n    return productsList?.map((product) => {\r\n      return (\r\n        <Col lg={4}>\r\n          <Product\r\n            title={product.title}\r\n            id={product.id}\r\n            key={product.id}\r\n            images={product.images}\r\n            liked={isLiked(product.id)}\r\n            liker={likeProduct}\r\n            unliker={unlikeProduct}\r\n          />\r\n        </Col>\r\n      );\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Container className=\"mt-5\">\r\n      <h4>Lista de produtos dispon√≠veis</h4>\r\n      <Row>{renderProductList()}</Row>\r\n    </Container>\r\n  );\r\n}\r\n","import { useRef } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { useAuth } from '../AuthProvider';\r\nimport { useHistory, Link } from 'react-router-dom';\r\n\r\nfunction Login() {\r\n  const { signin } = useAuth();\r\n  const usernameInputRef = useRef(null);\r\n  const emailInputRef = useRef(null);\r\n  const passwordInputRef = useRef(null);\r\n\r\n  let history = useHistory();\r\n\r\n  const register = async (newUser) => {\r\n    const stringifiedUser = JSON.stringify(newUser);\r\n    const response = await fetch('../../users', {\r\n      method: 'POST',\r\n      headers: {\r\n        Accept: 'application/json',\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: stringifiedUser,\r\n    });\r\n\r\n    if (response.status === 200) {\r\n      const registered = await response.json();\r\n      const loggedIn = await signin({\r\n        username: registered.username,\r\n        password: registered.password,\r\n      });\r\n\r\n      if (loggedIn) {\r\n        history.push('/web/');\r\n      }\r\n    } else {\r\n      const error = await response.json();\r\n      alert(`algo deu errado com o seu registro, ${error?.message}`);\r\n    }\r\n  };\r\n\r\n  const handleFormSubmit = () => {\r\n    const newUser = {\r\n      username: usernameInputRef.current.value,\r\n      email: emailInputRef.current.value,\r\n      password: passwordInputRef.current.value,\r\n    };\r\n\r\n    register(newUser);\r\n  };\r\n\r\n  return (\r\n    <Form\r\n      onSubmit={(e) => {\r\n        e.preventDefault();\r\n        handleFormSubmit();\r\n      }}\r\n    >\r\n      <h3 className=\"text-center\">Fa√ßa seu cadastro</h3>\r\n      <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n        <Form.Label>Nome de Usu√°rio</Form.Label>\r\n        <Form.Control\r\n          ref={usernameInputRef}\r\n          type=\"text\"\r\n          id=\"input-register-username\"\r\n          required\r\n          placeholder=\"username\"\r\n        />\r\n      </Form.Group>\r\n\r\n      <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\r\n        <Form.Label>Seu email</Form.Label>\r\n        <Form.Control\r\n          ref={emailInputRef}\r\n          type=\"email\"\r\n          id=\"input-register-email\"\r\n          required\r\n          placeholder=\"seu email\"\r\n        />\r\n      </Form.Group>\r\n\r\n      <Form.Group className=\"mb-3\" controlId=\"formBasicPassword\">\r\n        <Form.Label>Senha</Form.Label>\r\n        <Form.Control\r\n          ref={passwordInputRef}\r\n          type=\"password\"\r\n          id=\"input-register-password\"\r\n          required\r\n          placeholder=\"senha\"\r\n        />\r\n      </Form.Group>\r\n\r\n      <Link to=\"/web/login\" className=\"d-block\">\r\n        J√° possui conta e deseja fazer login?\r\n      </Link>\r\n      <Button variant=\"primary\" type=\"submit\">\r\n        Cadastrar\r\n      </Button>\r\n    </Form>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import { Container } from 'react-bootstrap';\nimport { Switch, Route, useHistory } from 'react-router-dom';\n\nimport { useAuth } from './AuthProvider';\nimport Header from './components/Header';\nimport Login from './components/Login';\nimport LikedList from './components/LikedList';\nimport ProductList from './components/ProductList';\nimport Register from './components/Register';\n\nfunction App() {\n  const { user } = useAuth();\n  let history = useHistory();\n\n  if (!user) {\n    history.push('/web/login');\n  }\n\n  return (\n    <div className=\"app\">\n      <Switch>\n        <Route exact path=\"/web/\">\n          <Header />\n          <ProductList />\n        </Route>\n\n        <Route exact path=\"/web/lista\">\n          <Header />\n          <LikedList />\n        </Route>\n\n        <Route exact path=\"/web/login\">\n          <Container className=\"p-5 mt-5 w-50\" style={{ minWidth: '600px' }}>\n            <Login />\n          </Container>\n        </Route>\n\n        <Route exact path=\"/web/register\">\n          <Container className=\"p-5 mt-5 w-50\" style={{ minWidth: '600px' }}>\n            <Register />\n          </Container>\n        </Route>\n      </Switch>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport App from './App';\nimport { ProvideAuth } from './AuthProvider';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ProvideAuth>\n      <Router>\n        <App />\n      </Router>\n    </ProvideAuth>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}